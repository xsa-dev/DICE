# Telegram Dice Bot üé≤

Telegram –±–æ—Ç –Ω–∞ Rust –¥–ª—è –∏–≥—Ä—ã –≤ —É–≥–∞–¥—ã–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ teloxide.

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ç—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã:

1. **üîµ –ß–µ—Ç–Ω–æ–µ/–ù–µ—á–µ—Ç–Ω–æ–µ** - —É–≥–∞–¥–∞–π—Ç–µ —á–µ—Ç–Ω–æ—Å—Ç—å —á–∏—Å–ª–∞ –Ω–∞ –∫—É–±–∏–∫–µ
2. **üî¥ –ë–æ–ª—å—à–µ/–ú–µ–Ω—å—à–µ 3.5** - —É–≥–∞–¥–∞–π—Ç–µ –¥–∏–∞–ø–∞–∑–æ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (1-3 –∏–ª–∏ 4-6)
3. **üéØ –¢–æ—á–Ω–æ–µ —á–∏—Å–ª–æ** - —É–≥–∞–¥–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 6

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
- ‚úÖ –¢—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã
- ‚úÖ **–ù–∞—Å—Ç–æ—è—â–∏–µ –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫—É–±–∏–∫–∏** —á–µ—Ä–µ–∑ Telegram sendDice API
- ‚úÖ –ü–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω—ã–µ –∏ –æ–±–æ–¥—Ä—è—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –†–µ–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–π–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—Ç Telegram —Å–µ—Ä–≤–µ—Ä–æ–≤
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã `/start`, `/help`, `/play`
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–Ø–∑—ã–∫**: Rust
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: teloxide 0.12
- **Async runtime**: tokio
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —á–∏—Å–µ–ª**: rand
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: log + env_logger

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. Rust (–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
2. OpenSSL development libraries
3. pkg-config

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```bash
   export BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞"
   ```

### –ó–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
cargo run

# –ò–ª–∏ —Å–±–æ—Ä–∫–∞ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–ª–∏–∑–∞
cargo build --release
./target/release/telegram-dice-bot
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/start`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/play` –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —Ç—Ä–µ—Ö —Ä–µ–∂–∏–º–æ–≤ –∏–≥—Ä—ã
4. –°–¥–µ–ª–∞–π—Ç–µ —Å–≤–æ–π –≤—ã–±–æ—Ä —Å –ø–æ–º–æ—â—å—é –∫–Ω–æ–ø–æ–∫
5. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞!

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞
- `/help` - –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∏–≥—Ä–µ
- `/play` - –Ω–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É

### –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã

–ë–æ—Ç —Ç–∞–∫–∂–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
- "–∏–≥—Ä–∞—Ç—å", "–∏–≥—Ä–∞", "–∫—É–±–∏–∫", "–∫—É–±–∏–∫–∏" - –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É
- "–ø—Ä–∏–≤–µ—Ç", "hello", "hi" - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ main.rs     # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îú‚îÄ‚îÄ bot.rs      # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ callback'–æ–≤
‚îú‚îÄ‚îÄ game.rs     # –ò–≥—Ä–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îî‚îÄ‚îÄ state.rs    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –¥–∏–∞–ª–æ–≥–∞
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

- **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
- **Async/await** –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **State management** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- **Error handling** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Result —Ç–∏–ø–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

1. –ù–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–æ–±–∞–≤–ª—è–π—Ç–µ –≤ `src/state.rs`
2. –ò–≥—Ä–æ–≤—É—é –ª–æ–≥–∏–∫—É —Ä–∞—Å—à–∏—Ä—è–π—Ç–µ –≤ `src/game.rs`
3. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ —Ä–∞–∑–º–µ—â–∞–π—Ç–µ –≤ `src/bot.rs`

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–°–æ–∑–¥–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [teloxide](https://github.com/teloxide/teloxide) - –º–æ—â–Ω–æ–≥–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –¥–ª—è Telegram –±–æ—Ç–æ–≤ –Ω–∞ Rust.